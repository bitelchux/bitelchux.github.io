<html>
<head>
	<script src="jquery-2.0.0.min.js"></script>

	<style>
		.flota{
			float:left;
			witdh:50%;						
		}
		.botonaccion{
			vertical-align:middle;
			text-align:center;
			background-color:red;
			color:white;
			font-weight:strong;
		}
	</style>
	<script>
		var posx=0;
		var posy=0;
		var oldx=0;
		var oldy=0;

		var upressed=false;
		var dpressed=false;
		var lpressed=false;
		var rpressed=false;
		function raton(){
			var incx=0;
			var incy=0;
			if (upressed) incy=1;
			if (dpressed) incy=-1;
			if (rpressed) incx=1;
			if (lpressed) incx=-1;
			posx=posx+incx;
			posy=posy+incy;
			if (oldx!=posx || oldy!=posy){
			    Android.sendXY(posx,posy);
			    console.log("current:" + posx + ":" + posy)
			}
			oldx=posx;
			oldy=posy;
		}
		$(document).ready(function() {
			$('#btnu').bind('touchstart', function(e) {
				e.preventDefault();				
				upressed=true
			});
			$('#btnu').bind('touchend', function(e) {
				e.preventDefault();
				upressed=false
			});
			
			$('#btnd').bind('touchstart', function(e) {
				e.preventDefault();				
				dpressed=true
			});
			$('#btnd').bind('touchend', function(e) {
				e.preventDefault();
				dpressed=false
			});

			$('#btnl').bind('touchstart', function(e) {
				e.preventDefault();				
				lpressed=true
			});
			$('#btnl').bind('touchend', function(e) {
				e.preventDefault();
				lpressed=false
			});

			$('#btnr').bind('touchstart', function(e) {
				e.preventDefault();				
				rpressed=true
			});
			$('#btnr').bind('touchend', function(e) {
				e.preventDefault();
				rpressed=false
			});	
			setInterval(function(){ raton()}, 100);			
		});
	</script>

</head>
<body>
new!!
	<div class="flota">
		<table border=1 style="float:none">
			<tr>
				<td colspan="2" align="center">
					<img src="" alt="arriba" id="btnu" />
				</td>
			</tr>
			<tr>
				<td align=left>
					<img src="" alt="izquierda"  id="btnl" />
				</td>
				<td align=right>
					<img src="" alt="derecha"  id="btnr" />
				</td>
			</tr>
			<tr>
				<td colspan=2 align=center>
					<img src="" alt="abajo"  id="btnd" />
				</td>
			</tr>
		</table>
	</div>
	<div class="flota botonaccion" onclick="clica()">
		ACTION
	</div>
</body>

</html>
